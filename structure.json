{
  "public": {
    "ads.txt": "google.com, pub-8948109105283119, DIRECT, f08c47fec0942fa0\r\n",
    "components": {
      "videoModal.html": "<!-- components/videoModal.html -->\r\n<div id=\"videoModal\" class=\"modal fade\" tabindex=\"-1\" aria-labelledby=\"videoModalLabel\" aria-hidden=\"true\">\r\n  <!-- Cambiado modal-lg por modal-custom-left para tamaño y posición -->\r\n  <div class=\"modal-dialog modal-custom-left\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"videoModalLabel\">¡Bienvenido!</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Cerrar\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"ratio ratio-16x9\">\r\n          <iframe\r\n            id=\"youtubePlaylist\"\r\n            src=\"https://www.youtube.com/embed/LbfGI-TvdZU?list=PLUT8lOtOMxzpuFMfcKvI1SPE1ivmabsj8&autoplay=1&mute=1&loop=1&playlist=PLUT8lOtOMxzpuFMfcKvI1SPE1ivmabsj8\"\r\n            title=\"Reproducción automática\"\r\n            allow=\"autoplay; encrypted-media\"\r\n            allowfullscreen\r\n          ></iframe>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n"
    },
    "css": {
      "style.css": "body {\r\n  font-family: Arial, sans-serif;\r\n  margin: 0;\r\n  padding: 20px;\r\n  background-image: url(\"../images/fondooficion.JPG\");\r\n\r\n /* Ruta a la imagen */\r\n  background-size: cover; /* Ajusta la imagen para que cubra toda la pantalla */\r\n  background-position: center; /* Centra la imagen */\r\n  background-attachment: fixed; /* Hace que el fondo no se desplace al hacer scroll */\r\n  background-repeat: no-repeat; /* Evita que la imagen se repita */\r\n}\r\nlabel {\r\n  color: #000; /* Negro puro */\r\n  font-weight: bold; /* Negrita */\r\n}\r\n\r\n\r\nh1 {\r\n  \r\n  color: black; /* Texto negro */\r\n  padding: 10px 20px;\r\n  \r\n  border-radius: 10px;\r\n  margin: 20px auto;\r\n  text-align: center;\r\n  text-shadow:  \r\n    -2px -2px 0 white,  \r\n     2px -2px 0 white,  \r\n    -2px  2px 0 white,  \r\n     2px  2px 0 white; /* Borde blanco */\r\n}\r\nh1:hover {\r\n  animation: shake-vertical 0.8s linear both;\r\n  \r\n}\r\n\r\n@keyframes shake-vertical {\r\n  0%, 100% { transform: translateY(0); }\r\n  10%, 30%, 50%, 70% { transform: translateY(-8px); }\r\n  20%, 40%, 60% { transform: translateY(8px); }\r\n  80% { transform: translateY(6.4px); }\r\n  90% { transform: translateY(-6.4px); }\r\n}\r\nbutton {\r\n  background: #fbca1f;\r\n  font-family: inherit;\r\n  padding: 0.6em 1.3em;\r\n  font-weight: 900;\r\n  font-size: 18px;\r\n  border: 3px solid black;\r\n  border-radius: 0.4em;\r\n  box-shadow: 0.1em 0.1em;\r\n  cursor: pointer;\r\n  transition: all 0.1s ease-in-out;\r\n}\r\n\r\nbutton:hover {\r\n  transform: translate(-0.05em, -0.05em);\r\n  box-shadow: 0.15em 0.15em;\r\n}\r\n\r\nbutton:active {\r\n  transform: translate(0.05em, 0.05em);\r\n  box-shadow: 0.05em 0.05em;\r\n}\r\n\r\n\r\n@keyframes rotate-center {\r\n  0% { transform: rotate(0); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n\r\nform {\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n\r\n\r\n\r\n/* Contenedor principal que agrupa las secciones */\r\n.container {\r\n  flex-wrap: wrap;\r\n  display: flex; /* Hace que las secciones estén una al lado de la otra */\r\n  justify-content: space-between; /* Espaciado entre secciones */\r\n  gap: 20px; /* Espacio entre ellas */\r\n  padding: 20px;\r\n  align-items: flex-start; /* Alinea las secciones al inicio */\r\n}\r\n\r\n/* Estilos generales para cada sección */\r\n.section {\r\n  flex: 1; /* Hace que ambas secciones ocupen el mismo espacio */\r\n  background-color: #fff;\r\n  border: 4px solid #000000;\r\n  padding: 15px;\r\n  margin-bottom: 20px;\r\n  border-radius: 20px;\r\n  min-width: 250px; /* Evita que las secciones se encojan demasiado */\r\n  text-align: center; /* Centra el contenido */\r\n}\r\n\r\n/* Ajustar tamaño de los inputs */\r\ninput {\r\n  width: 100%;\r\n  max-width: 300px;\r\n  box-sizing: border-box;\r\n  margin-bottom: 10px;\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n\r\n.scale-up-horizontal-center {\r\n  animation: scale-up-horizontal-center 0.4s;\r\n}\r\n\r\n@keyframes scale-up-horizontal-center {\r\n  0% {\r\n     transform: scaleX(0.2);\r\n  }\r\n  100% {\r\n     transform: scaleX(1);\r\n  }\r\n}\r\n#recipeSummary {\r\n  background: linear-gradient(135deg, #e5ece6, #107a04); /* Degradado verde */\r\n  color: white; /* Para mejorar la visibilidad del texto */\r\n}\r\n\r\n#calculationDetails {\r\n  background: linear-gradient(135deg, #e8ebee, #0D47A1); /* Degradado azul */\r\n  color: white;\r\n}\r\n#recipeSummary:hover {\r\n  background: linear-gradient(135deg, #66bb6a, #2e7d32);\r\n}\r\n\r\n#calculationDetails:hover {\r\n  background: linear-gradient(135deg, #64b5f6, #1e88e5);\r\n}\r\n\r\n/* Hacer responsive */\r\n@media (max-width: 768px) {\r\n  .container {\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n\r\n  .section {\r\n    width: 100%;\r\n    padding: 15px;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n}\r\nfooter img {\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\nfooter img:hover {\r\n  transform: scale(1.1);\r\n}\r\n/* Estilo personalizado para modal chico alineado a la izquierda */\r\n.modal-custom-left {\r\n  max-width: 400px;       /* Más angosto */\r\n  margin: 1rem auto 1rem 1rem; /* Espaciado alineado a la izquierda */\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .modal-custom-left {\r\n    margin-left: 2rem;\r\n  }\r\n}\r\n\r\n/* Opcional: achicar altura del video */\r\n.modal-body iframe {\r\n  height: 200px;\r\n}\r\n"
    },
    "images": {
      "favicon.png": "(binary)",
      "fondooficion.JPG": "(binary)",
      "linkedin-logo.png": "(binary)",
      "seccion1.JPG": "(binary)",
      "seccion2.JPG": "(binary)",
      "youtube.png": "(binary)"
    },
    "index.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <!-- Bootstrap CSS -->\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <title>Búsqueda de Recetas en Dofus - Calculador de Ganancias</title>\r\n\r\n  <!-- SEO Básico -->\r\n  <meta name=\"description\" content=\"Buscador de recetas de objetos de Dofus. Calcula tus ganancias de forma rápida y sencilla.\">\r\n  <meta name=\"keywords\" content=\"Dofus, recetas, objetos, kamas, búsqueda, economía, alquimia, herrero, crudo, oficio\">\r\n  <meta name=\"robots\" content=\"index, follow\">\r\n  <meta name=\"author\" content=\"Jorge Fernández Rojo Andrés\">\r\n  <link rel=\"canonical\" href=\"https://recetasdofus.com.ar\">\r\n\r\n  <!-- Open Graph -->\r\n  <meta property=\"og:title\" content=\"Búsqueda de Recetas - DofusDB\">\r\n  <meta property=\"og:description\" content=\"Calculá cuánto ganás al fabricar objetos en Dofus.\">\r\n  <meta property=\"og:image\" content=\"https://recetasdofus.com.ar/images/favicon.png\">\r\n  <meta property=\"og:url\" content=\"https://recetasdofus.com.ar\">\r\n  <meta property=\"og:type\" content=\"website\">\r\n\r\n  <link rel=\"stylesheet\" href=\"css/style.css\">\r\n  <link rel=\"icon\" href=\"images/favicon.png\" type=\"image/png\">\r\n\r\n  <!-- Google tag (gtag.js) -->\r\n  <script async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8948109105283119\" crossorigin=\"anonymous\"></script>\r\n  <script async src=\"https://www.googletagmanager.com/gtag/js?id=G-GHSB8ZF8WD\"></script>\r\n  <script>\r\n    window.dataLayer = window.dataLayer || [];\r\n    function gtag(){dataLayer.push(arguments);}\r\n    gtag('js', new Date());\r\n    gtag('config', 'G-GHSB8ZF8WD');\r\n  </script>\r\n</head>\r\n\r\n<body>\r\n<!-- Botones para NO logueados -->\r\n<button id=\"btnRedirectLogin\" hidden>Iniciar Sesión</button>\r\n<button id=\"btnRedirectRegister\" hidden>Registrarse</button>\r\n\r\n<!-- Botones para logueados -->\r\n<button id=\"btnUltimasRecetas\" hidden>Últimas Recetas</button>\r\n<button id=\"btnVolversePremium\" hidden>Volverse Premium</button>\r\n<button id=\"btnBeneficios\" hidden>Ver Beneficios Premium</button>\r\n<button id=\"btnLogout\" hidden>Cerrar Sesión</button>\r\n\r\n<!-- Nueva sección introductoria -->\r\n<section class=\"container mt-5 d-flex justify-content-center\">\r\n  <div class=\"p-4 bg-white rounded shadow\" style=\"max-width: 600px;\">\r\n    <h2 class=\"text-center\">¿Qué es Recetas Dofus?</h2>\r\n    <p class=\"mt-3\">\r\n      Recetas Dofus es una herramienta gratuita pensada para los jugadores de Dofus que desean maximizar sus ganancias dentro del juego. \r\n      Buscá recetas de objetos, calculá tus costos de fabricación y estimá tus ganancias de forma rápida y sencilla.\r\n    </p>\r\n  </div>\r\n</section>\r\n\r\n<h1 class=\"text-center mt-4\">Buscador de Recetas en Dofus y Calculador de Ganancias</h1>\r\n\r\n<!-- Formulario de búsqueda -->\r\n<form id=\"searchForm\" class=\"text-center mt-3\">\r\n  <label for=\"objectName\">Nombre del objeto:</label>\r\n  <input type=\"text\" id=\"objectName\" placeholder=\"Buscar receta\" required>\r\n  <button type=\"submit\" class=\"btn btn-warning\">Buscar</button>\r\n</form>\r\n\r\n<!-- Contenedor principal -->\r\n<main class=\"container\">\r\n  <section id=\"recipeSummary\" class=\"section scale-up-horizontal-center\">\r\n    <h2 id=\"nombreObjeto\"></h2>\r\n    <h3>Precio de Venta:</h3>\r\n    <input type=\"number\" id=\"precioObjeto\" class=\"price-input\" placeholder=\"Ingrese precio\" oninput=\"calcularGanancia()\">\r\n    <h3>Receta:</h3>\r\n    <ul id=\"ingredientes\"></ul>\r\n    <h3>Gasto: <span id=\"gasto\">0</span> K</h3>\r\n    <h3>Ganancia: <span id=\"ganancia\">0</span> K</h3>\r\n  </section>\r\n\r\n  <section id=\"calculationDetails\" class=\"section scale-up-horizontal-center\">\r\n    <h3>Cantidad a fabricar:</h3>\r\n    <input type=\"number\" id=\"cantidadFabricar\" value=\"1\" min=\"1\" class=\"price-input\" oninput=\"calcularGanancia()\">\r\n    <h3>Ganancia Total: <span id=\"gananciaTotal\">0</span> K</h3>\r\n    <h3>Gasto Total: <span id=\"gastoTotal\">0</span> K</h3>\r\n    <h3>Ingredientes Totales Necesarios:</h3>\r\n    <ul id=\"ingredientesTotales\"></ul>\r\n  </section>\r\n\r\n  <!-- Nueva sección de \"Cómo funciona\" -->\r\n  <section class=\"container mt-5 d-flex justify-content-center\">\r\n    <div class=\"p-4 bg-white rounded shadow\" style=\"max-width: 600px;\">\r\n      <h2 class=\"text-center\">¿Cómo funciona Recetas Dofus?</h2>\r\n      <p class=\"mt-3\">\r\n        Usar Recetas Dofus es sencillo: ingresá el nombre del objeto, obtené la receta, completá precios y calculá costos y ganancias automáticamente. \r\n        También podés calcular los ingredientes necesarios para producciones en masa.\r\n      </p>\r\n    </div>\r\n  </section>\r\n\r\n  <!-- Nueva sección de Preguntas Frecuentes -->\r\n  <section class=\"container mt-5 d-flex justify-content-center\">\r\n    <div class=\"p-4 bg-white rounded shadow\" style=\"max-width: 600px;\">\r\n      <h2 class=\"text-center\">Preguntas Frecuentes</h2>\r\n      <h5 class=\"mt-3\">1. ¿Esta herramienta es gratuita?</h5>\r\n      <p>Sí, Recetas Dofus es completamente gratuita para todos los usuarios.</p>\r\n\r\n      <h5 class=\"mt-3\">2. ¿Necesito registrarme para usarla?</h5>\r\n      <p>No es necesario registrarse para buscar recetas. El registro es opcional para acceder a funciones premium.</p>\r\n\r\n      <h5 class=\"mt-3\">3. ¿Los datos de precios se actualizan?</h5>\r\n      <p>Los datos se basan en la API de DofusDB, por lo que reflejan el contenido disponible más reciente.</p>\r\n    </div>\r\n  </section>\r\n</main>\r\n\r\n<script type=\"module\" src=\"js/calculo.js\"></script>\r\n<script type=\"module\" src=\"js/search.js\"></script>\r\n<script type=\"module\" src=\"js/render.js\"></script>\r\n\r\n<footer class=\"text-center mt-5\">\r\n  <p>© 2025 Jorge Fernández Rojo Andrés - \r\n    <a href=\"mailto:jf_wolf_887@hotmail.com\">Contacto</a> | \r\n    <a href=\"privacidad.html\">Política de Privacidad</a> |\r\n    <a href=\"terminos.html\">Términos y Condiciones</a>\r\n  </p>\r\n  <div class=\"mt-3\">\r\n    <a href=\"https://www.youtube.com/@Yotaroto\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n      <img src=\"images/youtube.png\" alt=\"YouTube\" width=\"32\" height=\"32\" style=\"margin-right: 10px;\">\r\n    </a>\r\n    <a href=\"https://www.linkedin.com/in/jorgeandresfernandezrojo/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n      <img src=\"images/linkedin-logo.png\" alt=\"LinkedIn\" width=\"32\" height=\"32\">\r\n    </a>\r\n  </div>\r\n</footer>\r\n\r\n<!-- Bootstrap Bundle con Popper -->\r\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n<script src=\"js/verificarSesion.js\"></script>\r\n\r\n</body>\r\n</html>\r\n",
    "js": {
      "calculo.js": "export function calcularGanancia() {\r\n  let gasto = 0; // Reiniciamos el gasto\r\n\r\n  // Obtener la cantidad de objetos a fabricar\r\n  const cantidadFabricarInput = document.getElementById(\"cantidadFabricar\");\r\n  const cantidadFabricar = cantidadFabricarInput ? parseInt(cantidadFabricarInput.value) || 1 : 1;\r\n\r\n  console.log(`[DEBUG] Cantidad a fabricar: ${cantidadFabricar}`);\r\n\r\n  // Obtener los ingredientes desde el dataset\r\n  const ingredientesElement = document.getElementById(\"ingredientes\");\r\n  if (!ingredientesElement || !ingredientesElement.dataset.ingredientes) {\r\n    console.warn(\"[WARNING] No se encontraron ingredientes en el dataset.\");\r\n    return;\r\n  }\r\n\r\n  const ingredientes = JSON.parse(ingredientesElement.dataset.ingredientes || \"[]\");\r\n  console.log(\"[DEBUG] Ingredientes cargados:\", ingredientes);\r\n\r\n  let ingredientesTotalesHTML = \"\";\r\n\r\n  ingredientes.forEach(ingrediente => {\r\n    const inputPrecio = document.getElementById(`precio-${ingrediente.id}`);\r\n    \r\n    if (!inputPrecio) {\r\n      console.warn(`[WARNING] No se encontró el input para el ingrediente: ${ingrediente.name}`);\r\n      return;\r\n    }\r\n\r\n    // Obtener el precio unitario ingresado por el usuario\r\n    const precioUnitario = parseFloat(inputPrecio.value) || 0;\r\n    console.log(`[DEBUG] Precio de ${ingrediente.name}: ${precioUnitario} K`);\r\n\r\n    // 🔥 Calcular el costo total del ingrediente (precio unitario * cantidad requerida)\r\n    const costoIngrediente = precioUnitario * ingrediente.quantity;\r\n    gasto += costoIngrediente; // Sumar al gasto total de la receta\r\n\r\n    // Calcular cantidad total de ingredientes requeridos según la cantidad a fabricar\r\n    const cantidadTotal = ingrediente.quantity * cantidadFabricar;\r\n    ingredientesTotalesHTML += `\r\n      <li>\r\n        <img src=\"${ingrediente.image}\" alt=\"${ingrediente.name}\" style=\"width: 40px; height: 40px; vertical-align: middle;\" />\r\n        ${ingrediente.name}: <strong>${cantidadTotal}</strong> unidades\r\n      </li>\r\n    `;\r\n  });\r\n\r\n  // 🔥 Calcular el Gasto Total multiplicando el gasto base por la cantidad a fabricar\r\n  const gastoTotal = gasto * cantidadFabricar;\r\n\r\n  // Verificar si el input del precio del objeto existe antes de obtener su valor\r\n  const precioObjetoInput = document.getElementById(\"precioObjeto\");\r\n  const precioObjeto = precioObjetoInput ? parseFloat(precioObjetoInput.value) || 0 : 0;\r\n\r\n  console.log(\"[DEBUG] Precio del objeto:\", precioObjeto);\r\n\r\n  // Calcular la ganancia correctamente\r\n  const ganancia = (precioObjeto * cantidadFabricar) - gastoTotal;\r\n\r\n  // ✅ Actualizar el Gasto en la sección verde\r\n  const gastoElement = document.getElementById(\"gasto\");\r\n  if (gastoElement) gastoElement.textContent = `${gasto} K`; // 🔥 Ahora el gasto aparece correctamente en verde\r\n\r\n  // ✅ Actualizar la Ganancia en la sección verde\r\n  const gananciaElement = document.getElementById(\"ganancia\");\r\n  if (gananciaElement) gananciaElement.textContent = `${ganancia} K`;\r\n\r\n  // ✅ Actualizar la Ganancia Total en la sección azul\r\n  const gananciaTotalElement = document.getElementById(\"gananciaTotal\");\r\n  if (gananciaTotalElement) gananciaTotalElement.textContent = `${ganancia} K`;\r\n\r\n  // ✅ Restaurar la actualización de \"Gasto Total\" en la sección azul\r\n  let gastoTotalElement = document.getElementById(\"gastoTotal\");\r\n  if (!gastoTotalElement) {\r\n    const calculationDetails = document.getElementById(\"calculationDetails\");\r\n    gastoTotalElement = document.createElement(\"h3\");\r\n    gastoTotalElement.id = \"gastoTotal\";\r\n    calculationDetails.appendChild(gastoTotalElement);\r\n  }\r\n  gastoTotalElement.textContent = `Gasto Total: ${gastoTotal} K`;\r\n\r\n  // Actualizar la lista de ingredientes totales necesarios\r\n  const ingredientesTotalesElement = document.getElementById(\"ingredientesTotales\");\r\n  if (ingredientesTotalesElement) ingredientesTotalesElement.innerHTML = ingredientesTotalesHTML;\r\n\r\n  console.log(\"[DEBUG] Cálculo completado:\");\r\n  console.log(` - Gasto: ${gasto} K`);\r\n  console.log(` - Gasto Total: ${gastoTotal} K`);\r\n  console.log(` - Ganancia: ${ganancia} K`);\r\n}\r\n\r\n// Asegurar que la función sea accesible globalmente\r\nwindow.calcularGanancia = calcularGanancia;\r\n",
      "register.js": "console.log('🔵 Script register.js cargado correctamente'); // Confirmamos que el archivo JS se está cargando\r\n\r\nconst form = document.getElementById('registerForm');\r\nconst resultado = document.getElementById('resultado');\r\n\r\nif (!form) {\r\n  console.error('❌ No se encontró el formulario registerForm en el HTML');\r\n} else {\r\n  console.log('✅ Formulario registerForm encontrado');\r\n}\r\n\r\nform.addEventListener('submit', async (e) => {\r\n  console.log('🟡 Evento submit capturado en registerForm');\r\n\r\n  e.preventDefault();\r\n\r\n  const emailInput = document.getElementById('email');\r\n  const passwordInput = document.getElementById('password');\r\n\r\n  if (!emailInput || !passwordInput) {\r\n    console.error('❌ No se encontraron los campos email o password en el formulario');\r\n    return;\r\n  }\r\n\r\n  const email = emailInput.value;\r\n  const password = passwordInput.value;\r\n\r\n  console.log('📤 Preparando envío de datos:', { email, password });\r\n\r\n  // 💥💥💥 AGREGÁ ESTE LOG\r\n  console.log('🛫 Lanzando fetch hacia /api/register...');\r\n\r\n  try {\r\n    const response = await fetch('/api/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n\r\n    console.log('📥 Respuesta recibida del servidor:', response);\r\n\r\n    const data = await response.json();\r\n    console.log('📄 Respuesta parseada a JSON:', data);\r\n\r\n    if (response.ok) {\r\n      console.log('✅ Registro exitoso, preparando redirección...');\r\n      resultado.textContent = '✅ Registro exitoso. Revisa tu correo para verificar tu cuenta.';\r\n      \r\n      setTimeout(() => {\r\n        console.log('➡️ Redirigiendo a login.html');\r\n        window.location.href = 'login.html';\r\n      }, 3000);\r\n    } else {\r\n      console.error('❌ Registro fallido. Error recibido:', data.error || 'Error desconocido');\r\n      resultado.textContent = '❌ Error: ' + (data.error || 'No se pudo registrar');\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ Error en la conexión o fetch fallido:', error);\r\n    resultado.textContent = '❌ Error en la conexión.';\r\n  }\r\n});\r\n",
      "render.js": "import { calcularGanancia } from './calculo.js';\r\n\r\n// Función para renderizar listas de efectos\r\nexport const renderEffects = (effects) => {\r\n  if (!effects || effects.length === 0) {\r\n    return \"<li>Sin efectos disponibles</li>\";\r\n  }\r\n  return effects\r\n    .map(\r\n      (effect) =>\r\n        `<li>${effect.characteristic || \"Efecto desconocido\"}: ${effect.from || 0} a ${effect.to || 0}</li>`\r\n    )\r\n    .join(\"\");\r\n};\r\n\r\n// Función para renderizar la receta en el frontend con inputs de precios\r\nexport const renderRecipe = (recipe) => {\r\n  if (!recipe || recipe.length === 0) {\r\n    return \"<li>Receta no disponible</li>\";\r\n  }\r\n\r\n  return recipe.map(ingredient => {\r\n    const inputId = `precio-${ingredient.id}`;\r\n    return `\r\n      <li>\r\n        <img src=\"${ingredient.image}\" alt=\"${ingredient.name}\" style=\"width: 40px; height: 40px; vertical-align: middle;\" />\r\n        ${ingredient.name} (Cantidad: ${ingredient.quantity || \"N/A\"})\r\n        <input type=\"number\" class=\"price-input\" id=\"${inputId}\" placeholder=\"Precio por unidad\">\r\n      </li>\r\n    `;\r\n  }).join(\"\");\r\n};\r\n\r\n// ✅ Función mejorada para asignar eventos de cálculo a los inputs después de renderizar la receta\r\nexport function asignarEventosCalculo() {\r\n  document.querySelectorAll(\".price-input\").forEach(input => {\r\n    input.removeEventListener(\"input\", calcularGanancia); // 🔥 Evita eventos duplicados\r\n    input.addEventListener(\"input\", () => {\r\n      console.log(`[DEBUG] Evento disparado en: ${input.id}`);\r\n      calcularGanancia();\r\n    });\r\n  });\r\n}\r\n",
      "search.js": "import { renderRecipe, asignarEventosCalculo } from './render.js';\r\nimport { calcularGanancia } from './calculo.js';\r\n\r\nconst form = document.getElementById('searchForm');\r\nconst recipeSummary = document.getElementById('recipeSummary');\r\nconst calculationDetails = document.getElementById('calculationDetails');\r\nconst ingredientesList = document.getElementById('ingredientes');\r\nconst ingredientesTotalesList = document.getElementById('ingredientesTotales');\r\n\r\n// Agregamos un evento para manejar el envío del formulario\r\nform.addEventListener(\"submit\", async (e) => {\r\n  e.preventDefault();\r\n\r\n  const objectName = document.getElementById(\"objectName\").value.trim();\r\n  console.log(\"[DEBUG] Nombre del objeto enviado:\", objectName);\r\n\r\n  if (!objectName) {\r\n    recipeSummary.innerHTML =\r\n      '<p style=\"color: red;\">Por favor, ingresa el nombre de un objeto.</p>';\r\n    calculationDetails.innerHTML = \"\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    recipeSummary.innerHTML = \"<p>Buscando...</p>\";\r\n    calculationDetails.innerHTML = \"\";\r\n\r\n    const response = await fetch(\"/api/recipes/search\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ objectName }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Error HTTP: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n\r\n    if (data.success && data.data) {\r\n      const item = data.data;\r\n      console.log(\"[DEBUG] Datos recibidos del servidor:\", item);\r\n\r\n      // Renderizar la información en `recipeSummary`\r\n      recipeSummary.innerHTML = `\r\n        <h2 id=\"nombreObjeto\">${item.name || \"Nombre no disponible\"}</h2>\r\n        \r\n        <h3>Precio de Venta:</h3>\r\n        <input type=\"number\" id=\"precioObjeto\" class=\"price-input\" placeholder=\"Ingrese precio\">\r\n\r\n        <h3>Receta:</h3>\r\n        <ul id=\"ingredientes\">${renderRecipe(item.recipe)}</ul>\r\n\r\n        <h3>Gasto: <span id=\"gasto\">0</span> K</h3>\r\n        <h3>Ganancia: <span id=\"ganancia\">0</span> K</h3>\r\n      `;\r\n\r\n      // Renderizar la sección de cálculos en `calculationDetails`\r\n      calculationDetails.innerHTML = `\r\n        <label>Cantidad a fabricar:\r\n          <input type=\"number\" id=\"cantidadFabricar\" value=\"1\" min=\"1\" class=\"price-input\">\r\n        </label>\r\n\r\n        <h3>Ganancia Total: <span id=\"gananciaTotal\">0</span> K</h3>\r\n\r\n        <h3>Ingredientes Totales Necesarios:</h3>\r\n        <ul id=\"ingredientesTotales\"></ul>\r\n      `;\r\n\r\n      // Guardar ingredientes en dataset para cálculos\r\n      document.getElementById(\"ingredientes\").dataset.ingredientes = JSON.stringify(item.recipe);\r\n\r\n      // Asignar eventos dinámicamente para calcular la ganancia al modificar los valores\r\n      asignarEventosCalculo();\r\n\r\n    } else {\r\n      recipeSummary.innerHTML = \"<p>No se encontraron resultados para tu búsqueda.</p>\";\r\n      calculationDetails.innerHTML = \"\";\r\n      console.log(\"[DEBUG] Respuesta sin datos:\", data);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"[ERROR] Error en la búsqueda:\", error);\r\n    recipeSummary.innerHTML =\r\n      '<p style=\"color: red;\">Hubo un error al realizar la búsqueda. Inténtalo de nuevo más tarde.</p>';\r\n    calculationDetails.innerHTML = \"\";\r\n  }\r\n});\r\n",
      "topRecetas.js": "document.addEventListener('DOMContentLoaded', async () => {\r\n    const contenedor = document.getElementById('contenedor-recetas');\r\n  \r\n    try {\r\n      const res = await fetch('data/topRecetas.json');\r\n      const recetas = await res.json();\r\n  \r\n      recetas.forEach(receta => {\r\n        const card = document.createElement('div');\r\n        card.className = 'col-md-4';\r\n  \r\n        card.innerHTML = `\r\n          <div class=\"card mb-4 shadow-sm\">\r\n            <img src=\"${receta.image}\" class=\"card-img-top\" alt=\"${receta.name}\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title\">${receta.name}</h5>\r\n              <p class=\"card-text\">${receta.descripcion}</p>\r\n              <p class=\"text-muted small\">Ingredientes: ${receta.ingredientes.join(', ')}</p>\r\n              <a href=\"${receta.url}\" class=\"btn btn-primary\">Ver receta</a>\r\n            </div>\r\n          </div>\r\n        `;\r\n  \r\n        contenedor.appendChild(card);\r\n      });\r\n    } catch (err) {\r\n      console.error('Error al cargar recetas destacadas:', err);\r\n      contenedor.innerHTML = `<p class=\"text-danger\">No se pudieron cargar las recetas. Intentalo más tarde.</p>`;\r\n    }\r\n  });\r\n  ",
      "verificarSesion.js": "document.addEventListener('DOMContentLoaded', async () => {\r\n  const token = localStorage.getItem('jwtToken');\r\n\r\n  const btnLogin = document.getElementById('btnRedirectLogin');\r\n  const btnRegister = document.getElementById('btnRedirectRegister');\r\n  const btnUltimasRecetas = document.getElementById('btnUltimasRecetas');\r\n  const btnVolversePremium = document.getElementById('btnVolversePremium');\r\n  const btnBeneficios = document.getElementById('btnBeneficios');\r\n  const btnLogout = document.getElementById('btnLogout');\r\n\r\n  if (!token) {\r\n    // Usuario no logueado\r\n    if (btnLogin) btnLogin.hidden = false;\r\n    if (btnRegister) btnRegister.hidden = false;\r\n    if (btnLogout) btnLogout.hidden = true;\r\n    if (btnUltimasRecetas) btnUltimasRecetas.hidden = true;\r\n    if (btnVolversePremium) btnVolversePremium.hidden = true;\r\n    if (btnBeneficios) btnBeneficios.hidden = true;\r\n  } else {\r\n    try {\r\n      const response = await fetch('/api/perfil', {\r\n        headers: { Authorization: 'Bearer ' + token }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!data.user || !data.user.isVerified) {\r\n        // Usuario logueado pero NO verificado\r\n        if (btnLogin) btnLogin.hidden = true;\r\n        if (btnRegister) btnRegister.hidden = true;\r\n        if (btnLogout) btnLogout.hidden = false;\r\n\r\n        if (btnUltimasRecetas) btnUltimasRecetas.hidden = true;\r\n        if (btnVolversePremium) btnVolversePremium.hidden = true;\r\n        if (btnBeneficios) btnBeneficios.hidden = true;\r\n\r\n        alert('⚠️ Tu cuenta todavía no está verificada. Revisá tu correo.');\r\n      } else {\r\n        // Usuario logueado y verificado\r\n        if (btnLogin) btnLogin.hidden = true;\r\n        if (btnRegister) btnRegister.hidden = true;\r\n        if (btnLogout) btnLogout.hidden = false;\r\n\r\n        if (btnUltimasRecetas) btnUltimasRecetas.hidden = false;\r\n        if (btnVolversePremium) btnVolversePremium.hidden = false;\r\n        if (btnBeneficios) btnBeneficios.hidden = false;\r\n      }\r\n    } catch (error) {\r\n      console.error('❌ Error al verificar sesión:', error);\r\n    }\r\n  }\r\n\r\n  // ✅ Evento para botón de Cerrar Sesión\r\n  if (btnLogout) {\r\n    btnLogout.addEventListener('click', () => {\r\n      console.log('🔴 Cerrando sesión: Borrando token...');\r\n      localStorage.removeItem('jwtToken'); // Borramos el token del navegador\r\n      window.location.href = 'login.html'; // Redirigimos al login\r\n    });\r\n  }\r\n\r\n  // ✅ Evento para botón de Registrarse\r\n  if (btnRegister) {\r\n    btnRegister.addEventListener('click', () => {\r\n      console.log('🔵 Redirigiendo a register.html');\r\n      window.location.href = 'register.html';\r\n    });\r\n  }\r\n\r\n  // ✅ Evento para botón de Iniciar Sesión\r\n  if (btnLogin) {\r\n    btnLogin.addEventListener('click', () => {\r\n      console.log('🔵 Redirigiendo a login.html');\r\n      window.location.href = 'login.html';\r\n    });\r\n  }\r\n});",
      "videoModal.js": "console.log(\"📦 Iniciando carga del modal desde videoModal.html...\");\r\n\r\nfetch('components/videoModal.html')\r\n  .then(response => {\r\n    console.log(\"✅ Respuesta del fetch:\", response.status);\r\n    return response.text();\r\n  })\r\n  .then(html => {\r\n    console.log(\"📄 HTML del modal recibido. Insertando en el DOM...\");\r\n    document.body.insertAdjacentHTML('beforeend', html);\r\n\r\n    const modalElement = document.getElementById('videoModal');\r\n    if (!modalElement) {\r\n      console.error(\"❌ No se encontró el elemento #videoModal en el DOM.\");\r\n      return;\r\n    }\r\n\r\n    console.log(\"🧱 Modal insertado correctamente. Inicializando Bootstrap.Modal...\");\r\n    const modal = new bootstrap.Modal(modalElement);\r\n\r\n    // 🎥 Mostrar siempre el modal al cargar\r\n    console.log(\"🎥 Mostrando modal...\");\r\n    modal.show();\r\n\r\n    // 🛑 Detener el video cuando se cierra el modal\r\n    modalElement.addEventListener('hidden.bs.modal', () => {\r\n      console.log(\"🛑 Modal cerrado. Deteniendo reproducción del video...\");\r\n\r\n      const iframe = document.getElementById('youtubePlaylist');\r\n      if (iframe) {\r\n        const currentSrc = iframe.src;\r\n        iframe.src = \"\";            // Limpiar src para detener el video\r\n        iframe.src = currentSrc;    // Restaurar src para reiniciar en próxima apertura\r\n      }\r\n    });\r\n  })\r\n  .catch(err => {\r\n    console.error(\"🚨 Error al cargar el modal:\", err);\r\n  });\r\n"
    },
    "login.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n  <title>Login RD</title>\r\n\r\n  <!-- Bootstrap CSS -->\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n\r\n  <link rel=\"stylesheet\" href=\"css/style.css\">\r\n  <link rel=\"icon\" href=\"images/favicon.png\" type=\"image/png\">\r\n</head>\r\n<body style=\"background: url('/images/fondooficion.jpg') no-repeat center center fixed; background-size: cover;\">\r\n\r\n  <div class=\"container d-flex align-items-center justify-content-center\" style=\"min-height: 100vh;\">\r\n    <div class=\"p-4 bg-white rounded shadow\" style=\"width: 100%; max-width: 400px;\">\r\n      <h1 class=\"text-center mb-4\">Login</h1>\r\n\r\n      <form id=\"loginForm\">\r\n        <div class=\"mb-3\">\r\n          <input type=\"email\" id=\"email\" class=\"form-control\" placeholder=\"Email\" required>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <input type=\"password\" id=\"password\" class=\"form-control\" placeholder=\"Contraseña\" required>\r\n        </div>\r\n        <div class=\"d-grid gap-2\">\r\n          <button type=\"submit\" class=\"btn btn-warning\">Iniciar Sesión</button>\r\n        </div>\r\n      </form>\r\n\r\n      <pre id=\"resultado\" class=\"mt-3\"></pre>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Bootstrap Bundle -->\r\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n\r\n  <script>\r\n    const form = document.getElementById('loginForm');\r\n    const resultado = document.getElementById('resultado');\r\n\r\n    form.addEventListener('submit', async (e) => {\r\n      e.preventDefault();\r\n      const email = document.getElementById('email').value;\r\n      const password = document.getElementById('password').value;\r\n\r\n      try {\r\n        const response = await fetch('/api/login', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ email, password })\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.token) {\r\n          localStorage.setItem('jwtToken', data.token);\r\n\r\n          resultado.textContent = '✅ Login exitoso. Redirigiendo...';\r\n          setTimeout(() => window.location.href = 'index.html', 1000);\r\n        } else {\r\n          resultado.textContent = '❌ Error: ' + data.error;\r\n        }\r\n      } catch (error) {\r\n        resultado.textContent = '❌ Error en la conexión.';\r\n        console.error(error);\r\n      }\r\n    });\r\n  </script>\r\n\r\n</body>\r\n</html>\r\n",
    "privacidad.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Política de Privacidad</title>\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n  <link rel=\"stylesheet\" href=\"css/style.css\">\r\n</head>\r\n<body>\r\n  <h1>Política de Privacidad</h1>\r\n\r\n  <p>En DofusDB Recipe Search valoramos tu privacidad. Esta herramienta:</p>\r\n\r\n  <ul>\r\n    <li>No recolecta información personal identificable.</li>\r\n    <li>Utiliza Google Analytics únicamente con fines estadísticos y de mejora del servicio.</li>\r\n    <li>No comparte datos con terceros con fines publicitarios.</li>\r\n  </ul>\r\n\r\n  <p>Si tenés preguntas o querés más información, podés contactarme en <a href=\"mailto:jf_wolf_887@hotmail.com\">jf_wolf_887@hotmail.com</a>.</p>\r\n\r\n  <p><a href=\"index.html\">← Volver al inicio</a></p>\r\n</body>\r\n</html>\r\n",
    "register.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\r\n  <title>Registro RD</title>\r\n  <link rel=\"stylesheet\" href=\"css/style.css\" />\r\n</head>\r\n<body>\r\n  <div style=\"text-align: center; margin-top: 50px;\">\r\n    <h1>Crear Cuenta</h1>\r\n\r\n    <form id=\"registerForm\" style=\"display: inline-block; text-align: left;\">\r\n      <input type=\"email\" id=\"email\" placeholder=\"Email\" required style=\"display: block; margin: 10px 0;\"><br>\r\n      <input type=\"password\" id=\"password\" placeholder=\"Contraseña\" required style=\"display: block; margin: 10px 0;\"><br>\r\n      <button type=\"submit\" id=\"btnRegister\">Registrarse</button>\r\n    </form>\r\n\r\n    <pre id=\"resultado\" style=\"margin-top: 20px;\"></pre>\r\n  </div>\r\n\r\n  <!-- Script externo -->\r\n  <script type=\"module\" src=\"js/register.js\"></script>\r\n\r\n</body>\r\n</html>\r\n",
    "robots.txt": "User-agent: *\r\nAllow: /\r\nSitemap: https://recetasdofus.com.ar/sitemap.xml\r\n",
    "sitemap.xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\r\n  <url>\r\n    <loc>https://recetasdofus.com.ar/</loc>\r\n    <lastmod>2025-04-07</lastmod>\r\n    <changefreq>monthly</changefreq>\r\n    <priority>1.0</priority>\r\n  </url>\r\n</urlset>\r\n",
    "terminos.html": "<!DOCTYPE html>\r\n\r\n<html lang=\"es\">\r\n\r\n<head>\r\n\r\n  <meta charset=\"UTF-8\">\r\n\r\n  <title>Términos y Condiciones</title>\r\n\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\r\n  <link rel=\"stylesheet\" href=\"css/style.css\">\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n  <h1>Términos y Condiciones</h1>\r\n\r\n\r\n\r\n  <p>Al utilizar el sitio <strong>DofusDB Recipe Search</strong>, aceptás los siguientes términos y condiciones:</p>\r\n\r\n\r\n\r\n  <h2>1. Propósito del sitio</h2>\r\n\r\n  <p>Este sitio fue creado con fines informativos y educativos. Permite calcular costos y ganancias aproximadas de recetas dentro del juego <strong>Dofus</strong>.</p>\r\n\r\n\r\n\r\n  <h2>2. No afiliación</h2>\r\n\r\n  <p>DofusDB Recipe Search no está afiliado de ninguna manera con <strong>ANKAMA</strong>, sus marcas o sus productos. Dofus es una marca registrada de Ankama Games.</p>\r\n\r\n\r\n\r\n  <h2>3. Uso de datos</h2>\r\n\r\n  <p>Los datos utilizados provienen de fuentes públicas o APIs de terceros. No se garantiza que estén siempre actualizados o completos.</p>\r\n\r\n\r\n\r\n  <h2>4. Limitación de responsabilidad</h2>\r\n\r\n  <p>El uso del sitio es bajo tu propia responsabilidad. No se garantiza la exactitud de los resultados ni se asume responsabilidad por pérdidas dentro del juego.</p>\r\n\r\n\r\n\r\n  <h2>5. Cambios</h2>\r\n\r\n  <p>Los Términos y Condiciones pueden cambiar sin previo aviso. Se recomienda revisarlos periódicamente.</p>\r\n\r\n\r\n\r\n  <h2>6. Contacto</h2>\r\n\r\n  <p>Si tenés preguntas o sugerencias, podés escribirme a <a href=\"mailto:jf_wolf_887@hotmail.com\">jf_wolf_887@hotmail.com</a>.</p>\r\n\r\n\r\n\r\n  <p><a href=\"index.html\">← Volver al inicio</a></p>\r\n\r\n</body>\r\n\r\n</html>",
    "topRecetas.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  <title>Top Recetas de Dofus</title>\r\n  <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n  <link rel=\"stylesheet\" href=\"css/style.css\">\r\n  <link rel=\"icon\" href=\"images/favicon.png\" type=\"image/png\">\r\n</head>\r\n<body>\r\n  <header class=\"container mt-4\">\r\n    <h1 class=\"text-center\">🌟 Top Recetas de Dofus</h1>\r\n    <p class=\"text-center\">Explorá nuestras recetas destacadas con análisis de ingredientes y estrategias para maximizar tus kamas.</p>\r\n  </header>\r\n\r\n  <main class=\"container my-5\">\r\n    <div class=\"row\" id=\"contenedor-recetas\">\r\n      <!-- Aquí se insertarán dinámicamente las tarjetas de recetas -->\r\n    </div>\r\n  </main>\r\n\r\n  <footer class=\"text-center mt-5 mb-3\">\r\n    <a href=\"index.html\" class=\"btn btn-outline-primary\">← Volver al Inicio</a>\r\n    <p class=\"mt-3\">© 2025 Jorge Fernández Rojo Andrés</p>\r\n  </footer>\r\n\r\n  <script src=\"js/topRecetas.js\" type=\"module\"></script>\r\n</body>\r\n</html>\r\n",
    "verificacionExitosa.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Cuenta Verificada</title>\r\n  <style>\r\n    body {\r\n      text-align: center;\r\n      font-family: sans-serif;\r\n      background: #f0f0f0;\r\n      padding: 50px;\r\n    }\r\n    img {\r\n      width: 300px;\r\n      margin-top: 30px;\r\n    }\r\n    h1 {\r\n      color: #28a745;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>✅ ¡Cuenta verificada con éxito!</h1>\r\n  <p>Gracias por unirte a Recetas Dofus. Ya podés iniciar sesión.</p>\r\n  <img src=\"https://img1.reactor.cc/pics/post/Wakfu-dofus-Joris-Wakfu-Gif-2774181.gif\" alt=\"Verificación Exitosa\">\r\n</body>\r\n</html>\r\n",
    "verificar.html": "<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Verificar cuenta</title>\r\n  <style>\r\n    body {\r\n      font-family: sans-serif;\r\n      text-align: center;\r\n      padding: 40px;\r\n    }\r\n    input {\r\n      margin: 10px;\r\n      padding: 10px;\r\n      width: 250px;\r\n    }\r\n    button {\r\n      padding: 10px 20px;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <h1>Verificar cuenta</h1>\r\n  <form id=\"formVerificar\">\r\n    <input type=\"email\" id=\"email\" placeholder=\"Tu correo\" required><br>\r\n    <input type=\"text\" id=\"codigo\" placeholder=\"Código recibido\" required><br>\r\n    <button type=\"submit\">Verificar</button>\r\n  </form>\r\n\r\n  <p id=\"mensaje\"></p>\r\n\r\n  <script>\r\n    document.getElementById('formVerificar').addEventListener('submit', async (e) => {\r\n      e.preventDefault();\r\n      const email = document.getElementById('email').value;\r\n      const codigo = document.getElementById('codigo').value;\r\n\r\n      try {\r\n        const res = await fetch('/api/verify-code', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ email, codigo })\r\n        });\r\n        const data = await res.json();\r\n        document.getElementById('mensaje').textContent = data.message || '✅ Verificado correctamente';\r\n      } catch (err) {\r\n        document.getElementById('mensaje').textContent = '❌ Error al verificar.';\r\n        console.error(err);\r\n      }\r\n    });\r\n  </script>\r\n</body>\r\n</html>\r\n"
  }
}